# AI PR レビュー & 人名プロンプトスキル

## 概要

このスキルは、AI エージェントを活用した効果的な PR レビュー手法と、「人名プロンプト（圧縮プロンプト）」テクニックを提供します。

参考:
- [降霊術で t_wada を AI に降ろして PR レビューして貰うテクニック](https://note.com/biwakonbu/n/n0f1c75418030)
- [Claude向け人名＋テクニック一覧](https://memory-lovers.blog/entry/2025/06/27/102550)

## 人名プロンプト（圧縮プロンプト）とは

AI に対して **実在の専門家の名前** を指定することで、その人物が発信してきた知識やスタイルを強く引き出すテクニックです。

### なぜ効くのか

- 「TDD」「リファクタリング」などの用語は意味の希薄化が進んでおり、AI が曖昧に解釈しがち
- 人名を指定すると AI に **具体的な参照点** を与え、特定のプログラミングスタイルに限定できる
- その人物が過去に発信した内容への依存が強まり、一貫した考え方やパターンが再現される

### 基本的な使い方

```text
# TDD を依頼する場合
t_wada の推奨する進め方に従って TDD を実行してください

# PR レビューを依頼する場合
t_wada になってこの PR をレビューしてください。
テストカバレッジが十分か、TDD の原則に従っているかを重点的に確認してください。

# リファクタリングを依頼する場合
Martin Fowler のリファクタリング手法に従って、このコードを改善してください
```

## 人名 + テクニック一覧

AI エージェントへの指示に以下の人名を使うことで、特定の文脈を強く引き出せます。

### テスト・品質

| 人名 | テクニック | プロンプト例 |
|------|-----------|-------------|
| **和田卓人（t_wada）** | TDD（テスト駆動開発） | 「t_wada の推奨する TDD で進めてください」 |
| **Kent C. Dodds** | Testing Trophy | 「Kent C. Dodds の Testing Trophy に基づいてテスト戦略を立ててください」 |
| **Martin Fowler** | Test Pyramid | 「Martin Fowler の Test Pyramid に従ってテストを分類してください」 |
| **Michael Feathers** | レガシーコード改善 | 「Michael Feathers のアプローチでレガシーコードにテストを追加してください」 |

### リファクタリング

| 人名 | テクニック | プロンプト例 |
|------|-----------|-------------|
| **Martin Fowler** | Refactoring | 「Fowler のリファクタリングカタログに基づいて改善してください」 |
| **Kent Beck** | Tidyings | 「Kent Beck の Tidy First? の手法で段階的に整理してください」 |

### 設計・アーキテクチャ

| 人名 | テクニック | プロンプト例 |
|------|-----------|-------------|
| **Eric Evans** | DDD（ドメイン駆動設計） | 「Eric Evans の DDD に従ってドメインモデルを設計してください」 |
| **Robert C. Martin** | Clean Architecture | 「Uncle Bob の Clean Architecture に従って層を分離してください」 |
| **Vaughn Vernon** | Event Storming / IDDD | 「Vaughn Vernon のアプローチでイベントストーミングを行ってください」 |

### プロセス

| 人名 | テクニック | プロンプト例 |
|------|-----------|-------------|
| **Jeff Sutherland** | Scrum | 「Scrum のスプリント計画に従ってタスクを分割してください」 |
| **Gene Kim** | DevOps / The Three Ways | 「Gene Kim の Three Ways に基づいて CI/CD を改善してください」 |

## AI PR レビューの実践

### レビュー依頼のプロンプト例

#### 基本レビュー
```text
この PR をレビューしてください。
以下の観点で確認をお願いします：
- コードの正確性
- テストカバレッジ
- セキュリティリスク
- パフォーマンスの問題
```

#### 人名プロンプトを活用したレビュー
```text
t_wada になってこの PR をレビューしてください。
特に以下の点を重視してレビューをお願いします：
- テストが先に書かれているか（TDD の原則）
- テストケースは十分か（境界値、異常系）
- テストが実装の詳細に依存していないか
- リファクタリングの余地はあるか
```

#### 観点を変えた複数レビュー
```text
以下の 2 つの視点でレビューしてください：

1. t_wada の視点：TDD の原則、テスト品質、リファクタリング
2. OWASP の視点：セキュリティ脆弱性、入力検証、認証認可
```

### レビュー出力テンプレート

AI がレビュー結果を出力する際は以下のフォーマットに従ってください：

```text
### サマリ
[変更の概要と全体的な評価を 1-2 文で]

---

#### Blocking（マージ前に修正必須）
1. **[問題の概要]**
   行 XX: [具体的な問題の説明] → [修正案]

#### Suggestions（非ブロッキング）
* 行 XX: [改善提案の説明]
* 行 XX: [改善提案の説明]

#### Good Points
* [良かった点]

#### Questions
* [不明瞭な点への質問]

---

**Decision**: Approve / Request Changes / Comment Only
```

## 注意事項

- 人名プロンプトは **AI の学習データに含まれる人物** でなければ効果がない
- 架空の人名を指定しても AI はその人物を認識できず、一般的なアプローチになる
- 人名プロンプトはあくまで「文脈の境界付け」であり、その人物の意見を完全に再現するものではない
- レビューの最終判断は必ず人間が行うこと
